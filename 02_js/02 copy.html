<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!--
        **Q2) 구현 Array1 Array2**

        **Array1 forEach, push pop method 구현**

        **Array2 filter, map method**

        **Array2는 Array1을 상속받는다.**

        - **Array2에서도 forEach, push, pop method가 사용 가능해야함 (상연)**

        (위 형태로 기본 자바스크립트로만 구현하는부분입니다. 자바스크립트 prototype chain 이랑 배열 반복 메소드 구현 해보면 지난번 인덱싱 문제 같은 부분 해결할때도 좋을 것 같습니다.)
    -->
</head>
<body>
    <script>
        //Array1 forEach, push pop method 구현
        function Array1(){
            this.top = -1;
            this.bucket = [];
            this.push = function(val){
                this.bucket[++this.top] = val;
            }
            this.pop = function(){
                if(this.top < 0){
                    return -1;
                }else{
                    let popValue = this.bucket[this.top];
                    //slice말고 vanilla js로 구현해보기
                    this.bucket = this.bucket.slice(0,this.top);
                    this.top--;
                    return popValue;
                }
            }
            this.forEach = function(){
                for (let i=0; i<this.bucket.length; i++) {
                    console.log(this.bucket[i]);
                }
            }
        }

        var array1 = new Array1();

        //Array2 filter, map method (Array2에서도 forEach, push, pop method가 사용 가능해야함)
        //forEach랑 push가 상속을 받아야겠네
        function Array2(){
            this.filter = function(arr,func){
                const result = [];
                //forEach와 push상속 받아야 함
                for(let i = 0; i < arr.length; i++){
                    func(arr[i]) && result.push(arr[i]);
                }
                return result;
            }
            this.map = function(arr,func){
                const result = [];
                //forEach와 push상속 받아야 함
                for(let i = 0; i < arr.length; i++){
                    result.push(func(arr[i]));
                }
                return result;
            }
        };

        var array2 = new Array2();
        // console.log(array2.filter([1,2,3,4,5], element => element > 2));

        const arr = [1, 2, 3, 4, 5];
        // console.log(map(arr, (value) => value + 2));
        console.log(arr.map((value) => value + 2)); //bind를 써서 ... ?? arr.array2.map((value) => value + 2) 이런식으로는 못하는건가 ...

    </script>
</body>
</html>